module gray_binary( in op( 1 ), inout x0(16), inout x1(16))
  if op   //gary to binary
    then
	 x0.15 ^= x1.15
	 x0.14 ^= (x0.15^ x1.14)
	 x0.13 ^= (x0.14^ x1.13)
	 x0.12 ^= (x0.13^ x1.12)
	 x0.11 ^= (x0.12^ x1.11)
	 x0.10 ^= (x0.11^ x1.10)
	 x0.9 ^= (x0.10^ x1.9)
	 x0.8 ^= (x0.9^ x1.8)
	 x0.7 ^= (x0.8^ x1.7)
	 x0.6^= (x0.7^ x1.6)
	 x0.5 ^= (x0.6^ x1.5)
	 x0.4 ^= (x0.5^ x1.4)
	 x0.3 ^= (x0.4^ x1.3)
	 x0.2 ^= (x0.3^ x1.2)
	 x0.1 ^= (x0.2^ x1.1)
	 x0.0 ^= (x0.1^ x1.0)
  else
	 x0.15 ^=  x1.15
	 x0.14 ^= (x1.15^ x1.14)
	 x0.13 ^= (x1.14^ x1.13)
	 x0.12 ^= (x1.13^ x1.12)
	 x0.11 ^= (x1.12^ x1.11)
	 x0.10 ^= (x1.11^ x1.10)
	 x0.9 ^= (x1.10^ x1.9)
	 x0.8 ^= (x1.9^ x1.8)
	 x0.7 ^= (x1.8^ x1.7)
	 x0.6^= (x1.7^ x1.6)
	 x0.5 ^= (x1.6^ x1.5)
	 x0.4 ^= (x1.5^ x1.4)
	 x0.3 ^= (x1.4^ x1.3)
	 x0.2 ^= (x1.3^ x1.2)
	 x0.1 ^= (x1.2^ x1.1)
	 x0.0 ^= (x1.1^ x1.0)	
fi op
