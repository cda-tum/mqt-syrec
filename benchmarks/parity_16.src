module parity_gen( in op( 1 ),out p(1), inout x1(16))

  if op 
    then //even parity
      p ^ = ((((((((x1.0 ^ x1.1) ^(x1.2 ^x1.3)) ^(x1.4^x1.5))^(x1.6^ x1.7 ))^( x1.8 ^x1.9 )) ^ (x1.10 ^ x1.11)) ^(x1.12 ^x1.13)) ^(x1.14^x1.15))
    else
      p ^ = ((((((((x1.0 ^ x1.1) ^(x1.2 ^x1.3)) ^(x1.4^x1.5))^(x1.6^ x1.7 ))^( x1.8 ^x1.9 )) ^ (x1.10 ^ x1.11)) ^(x1.12 ^x1.13)) ^(x1.14^x1.15))

      ~=p  //odd parity
fi op
